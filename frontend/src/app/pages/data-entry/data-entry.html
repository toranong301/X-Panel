<div class="page-header">
  <h2>Data Entry</h2>
  <span class="cycle">Cycle ID: {{ cycleId }}</span>
</div>

<mat-tab-group>

  <mat-tab label="Scope 1">

    <mat-card>
      <mat-card-title>1.1 Stationary</mat-card-title>
      <mat-card-subtitle>กรอกข้อมูล Stationary combustion ตามแบบ Excel</mat-card-subtitle>
      <mat-divider></mat-divider>

      <app-scope11-stationary
        [cycleId]="cycleId"
        [(rows)]="scope11Rows"
      ></app-scope11-stationary>

      <app-evidence-block
        evidenceKey="S1::1.1"
        [model]="evidenceFor('S1::1.1')"
        (modelChange)="updateEvidence('S1::1.1', $event)"
      ></app-evidence-block>
    </mat-card>

    <mat-card style="margin-top:16px;">
      <mat-card-title>1.2 Mobile</mat-card-title>
      <mat-card-subtitle>กรอกข้อมูล Mobile combustion ตามแบบ Excel</mat-card-subtitle>
      <mat-divider></mat-divider>

      <app-scope12-mobile
        [cycleId]="cycleId"
        [(rows)]="scope12Rows"
      ></app-scope12-mobile>

      <app-evidence-block
        evidenceKey="S1::1.2"
        [model]="evidenceFor('S1::1.2')"
        (modelChange)="updateEvidence('S1::1.2', $event)"
      ></app-evidence-block>
    </mat-card>

    <mat-card style="margin-top:16px;">
      <mat-card-title>1.4.1 Fugitive emission</mat-card-title>
      <mat-card-subtitle>กรอกข้อมูลสารทำความเย็นรายเดือนตามแบบ Excel</mat-card-subtitle>
      <mat-divider></mat-divider>

      <app-scope14-fugitive
        [cycleId]="cycleId"
        [(rows)]="scope141Rows"
      ></app-scope14-fugitive>

      <app-evidence-block
        evidenceKey="S1::1.4.1"
        [model]="evidenceFor('S1::1.4.1')"
        (modelChange)="updateEvidence('S1::1.4.1', $event)"
      ></app-evidence-block>
    </mat-card>

    <mat-card style="margin-top:16px;">
      <mat-card-title>1.4.2 สารดับเพลิง</mat-card-title>
      <mat-card-subtitle>กรอกข้อมูลสารดับเพลิงรายเดือนตามแบบ Excel</mat-card-subtitle>
      <mat-divider></mat-divider>

      <app-scope142-fire
        [cycleId]="cycleId"
        [(rows)]="scope142Rows"
      ></app-scope142-fire>

      <app-evidence-block
        evidenceKey="S1::1.4.2"
        [model]="evidenceFor('S1::1.4.2')"
        (modelChange)="updateEvidence('S1::1.4.2', $event)"
      ></app-evidence-block>
    </mat-card>

    <mat-card style="margin-top:16px;">
      <mat-card-title>1.4.3 Septic</mat-card-title>
      <mat-card-subtitle>กรอกข้อมูล septic ตามแบบ Excel</mat-card-subtitle>
      <mat-divider></mat-divider>

      <app-scope143-septic
        [cycleId]="cycleId"
        [(rows)]="scope143Rows"
      ></app-scope143-septic>

      <div class="evidence-groups">
        <h4>#1 โรงงานแหลมฉบัง (6 วัน/สัปดาห์)</h4>
        <app-evidence-block
          evidenceKey="S1::1.4.3::group1"
          [model]="evidenceFor('S1::1.4.3::group1')"
          (modelChange)="updateEvidence('S1::1.4.3::group1', $event)"
        ></app-evidence-block>

        <h4>#2 สำนักงานกรุงเทพ (5 วัน/สัปดาห์)</h4>
        <app-evidence-block
          evidenceKey="S1::1.4.3::group2"
          [model]="evidenceFor('S1::1.4.3::group2')"
          (modelChange)="updateEvidence('S1::1.4.3::group2', $event)"
        ></app-evidence-block>

        <h4>#3 รปภ (7 วัน/สัปดาห์)</h4>
        <app-evidence-block
          evidenceKey="S1::1.4.3::group3"
          [model]="evidenceFor('S1::1.4.3::group3')"
          (modelChange)="updateEvidence('S1::1.4.3::group3', $event)"
        ></app-evidence-block>

        <h4>#4 พยาบาล (7 วัน/สัปดาห์)</h4>
        <app-evidence-block
          evidenceKey="S1::1.4.3::group4"
          [model]="evidenceFor('S1::1.4.3::group4')"
          (modelChange)="updateEvidence('S1::1.4.3::group4', $event)"
        ></app-evidence-block>
      </div>
    </mat-card>

    <mat-card style="margin-top:16px;">
      <mat-card-title>1.4.4 ปุ๋ย</mat-card-title>
      <mat-card-subtitle>กรอกข้อมูลปุ๋ยตามแบบ Excel</mat-card-subtitle>
      <mat-divider></mat-divider>

      <app-scope144-fertilizer
        [cycleId]="cycleId"
        [(rows)]="scope144Rows"
        [evidenceModel]="evidenceFor('S1::1.4.4')"
        (evidenceModelChange)="updateEvidence('S1::1.4.4', $event)"
      ></app-scope144-fertilizer>
    </mat-card>

    <mat-card style="margin-top:16px;">
      <mat-card-title>1.4.5 ระบบบำบัดน้ำเสีย (WWTP)</mat-card-title>
      <mat-card-subtitle>กรอกข้อมูลคุณภาพน้ำออกและมิเตอร์น้ำตามแบบ Excel</mat-card-subtitle>
      <mat-divider></mat-divider>

      <app-scope145-wwtp
        [cycleId]="cycleId"
        [(rows)]="scope145Rows"
        [evidenceModel]="evidenceFor('S1::1.4.5')"
        (evidenceModelChange)="updateEvidence('S1::1.4.5', $event)"
      ></app-scope145-wwtp>
    </mat-card>

  </mat-tab>

</mat-tab-group>

<div class="actions" style="margin-top:16px;">
  <button mat-stroked-button color="primary" (click)="resetDefaults()">
    Reset defaults
  </button>

  <button mat-stroked-button color="primary" (click)="goFr041()">
    Go to FR-04.1 (Export)
  </button>

  <button mat-raised-button color="primary" (click)="save()">
    Save
  </button>
</div>
